|                 |                         |
|:----------------|:------------------------|
|   작성일           |   2023-04-21   |
|     분류          |                         |
| 태그              | #아키텍처패턴                          |  

독립적으로 배포 가능한 일련의 서비스에 의존하는 아키텍처 방식입니다. 이런 서비스에는 특정 목표를 가진 자체 buisiness logic과 database가 있습니다. update, test, deployment 및 scaling은  각 서비스 내에서 이루어집니다. 

Microservice는 주요 비즈니스 및 도메인별 문제를 별도의 코드 기반으로 분리합니다. Micro service는 복잡성을 줄이지는 못하지만, task를 서로 독립적으로 작동하는 작은 프로세스로 분리하여 복잡한 것을 관리하기 쉽게 만듭니다.

# 장점
---
Micro service는 만병통치약은 아니지만, 성장하는 소프트웨어와 기업의 여러 문제를 해결해 줍니다. Micro Service architecture는 독립적으로 실행되는 단위로 구성됩니다. 따라서 다른 서비스에 영향을 주지 않고 각 서비스를 개발, 업데이트, 배포 및 확장할 수 있습니다.

소프트웨어 업데이트를 더 자주 수행할 수 있으며 안정성, 가동 시간, 성능이 향상됩니다. 일주일에 한 번씩 업데이트하던 것을 하루에 두세 번으로 늘렸습니다.

배포 속도 향상, 장애 복구, 비용 절감, 성능 향상 등의 이점이 있습니다. 이를 통해 목표에 더 빨리 도달하면서 고객에게 더 많은 가치를 제공할 수 있습니다.

또한 일반적으로 Micro service를 사용하면 팀이 코드를 더 쉽게 업데이트하고 CI/CD를 통해 Release 주기를 빠르게 할 수 있습니다. 팀은 코드를 실험하고 문제가 발생하면 롤백할 수 있습니다.

간단히 말해, Micro service의 장점은 다음과 같습니다:

- 민첩성
	- 자주 배포하는 소규모 팀이 애자일한 방법으로 일할 수 있습니다.
- 유연한 확장
	- Micro service가 로드 용량에 도달하면 해당 서비스의 새 인스턴스를 함께 제공되는 클러스터에 신속하게 배포하여 부담을 완화할 수 있습니다. 이제 여러 인스턴스에 분산된 고객과 함께 멀티테넌트 및 Statless 서비스를 제공합니다. 이제 훨씬 더 큰 인스턴스 규모를 지원할 수 있습니다.
- 지속적인 배포
	- 이제 릴리스 주기를 더 빈번하고 빠르게 할 수 있습니다.
- 쉬운 테스트 및 유지보수 용이
	- 새로운 기능을 실험하고 작동하지 않는 경우 롤백할 수 있습니다. 따라서 코드 업데이트가 더 쉬워지고 새로운 기능의 시장 출시 시간이 단축됩니다. 또한 개별 서비스의 결함 및 버그를 쉽게 격리하고 수정할 수 있습니다.
- 독립적인 배포 가능 - Micro service는 개별 단위이므로 개별 기능을 빠르고 쉽게 독립적으로 배포할 수 있습니다.
- 기술 유연성 - Micro service 아키텍처를 통해 팀은 원하는 도구를 자유롭게 선택할 수 있습니다.
- 높은 안정성 - 전체 애플리케이션을 중단시킬 위험 없이 특정 서비스에 대한 변경 사항을 배포할 수 있습니다.
- 더 행복한 팀 - Micro service로 작업하는 팀은 더 자율적이고 풀리퀘스트가 승인될 때까지 몇 주를 기다릴 필요 없이 스스로 빌드 및 배포할 수 있기 때문에 훨씬 더 행복합니다.

# 단점
---
소수의 모놀리식 코드베이스에서 제품을 구동하는 더 많은 분산 시스템과 서비스로 전환하면서 의도하지 않은 복잡성이 발생했습니다. 처음에는 과거와 같은 속도와 자신감으로 새로운 기능을 추가하는 데 어려움을 겪었습니다. 

Micro service는 복잡성을 증가시켜 개발이 무분별하게 확장되거나 관리되지 않는 빠른 성장으로 이어질 수 있습니다. 서로 다른 구성 요소가 서로 어떻게 관련되어 있는지, 특정 소프트웨어 구성 요소의 소유자는 누구인지, 종속 구성 요소의 간섭을 피하는 방법은 무엇인지 파악하는 것이 어려울 수 있습니다.

마이크로서비스의 단점은 다음과 같습니다:

- 관리의 어려움
	- 마이크로서비스는 여러 팀이 더 많은 곳에서 더 많은 서비스를 만들기 때문에 Monolith architecture에 비해 복잡성이 더 커집니다. 제대로 관리하지 않으면 개발 속도가 느려지고 운영 성능이 저하됩니다.
- 기하급수적인 인프라 비용
	- 각각의 새로운 마이크로서비스에는 test suit, deployment playbooks, hosting infra, 모니터링 도구 등에 대한 자체 비용이 발생할 수 있습니다.
- 조직 오버헤드 증가
	- 팀은 업데이트와 Interface를 조율하기 위해 또 다른 수준의 커뮤니케이션과 협업을 추가해야 합니다.
- 디버깅 문제
	- 각 마이크로서비스에는 고유한 log set이 있어 디버깅이 더 복잡해집니다. 또한 단일 비즈니스 프로세스가 여러 컴퓨터에서 실행될 수 있으므로 디버깅이 더욱 복잡해집니다.
- 표준화 부족
	- 공통 플랫폼이 없으면 언어, logging 표준 및 모니터링이 확산될 수 있습니다.
- 명확한 소유권 부족
	- 더 많은 서비스가 도입됨에 따라 해당 서비스를 실행하는 팀의 수도 늘어납니다. 시간이 지남에 따라 팀에서 활용할 수 있는 서비스가 무엇인지, 지원을 위해 누구에게 연락해야 하는지 알기 어려워집니다.

# 출처
---
[25. Microservices vs. monolithic architecture | Atlassian](https://www.atlassian.com/microservices/microservices-architecture/microservices-vs-monolith)

# 관련 링크
---